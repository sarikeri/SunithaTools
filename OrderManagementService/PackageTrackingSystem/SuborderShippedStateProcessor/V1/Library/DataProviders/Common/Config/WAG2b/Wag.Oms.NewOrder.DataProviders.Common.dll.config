<?xml version="1.0" encoding="utf-8" ?>
<configuration>
  <configSections>
    <section name="unity" type="Microsoft.Practices.Unity.Configuration.UnityConfigurationSection, Microsoft.Practices.Unity.Configuration" />
  </configSections>

  <unity xmlns="http://schemas.microsoft.com/practices/2010/unity">
    <typeAliases>

      <!--Provider Aliases-->
      <!--=================================================================================-->

      <!--Contracts-->
      <typeAlias alias="IOrderProvider" type="Wag.Oms.NewOrder.DataProviders.Contracts.IOrderProvider, Wag.Oms.NewOrder.DataProviders.Contracts" />
      <typeAlias alias="IDcDefinitionProvider" type="Wag.Oms.NewOrder.DataProviders.Contracts.IDcDefinitionProvider, Wag.Oms.NewOrder.DataProviders.Contracts" />
      <typeAlias alias="IOrderRoutingDiscrepancyProvider" type="Wag.Oms.NewOrder.DataProviders.Contracts.IOrderRoutingDiscrepancyProvider, Wag.Oms.NewOrder.DataProviders.Contracts" />
      <typeAlias alias="IOrderRoutingFailureProvider" type="Wag.Oms.NewOrder.DataProviders.Contracts.IOrderRoutingFailureProvider, Wag.Oms.NewOrder.DataProviders.Contracts" />

      <!--Providers-->
      <typeAlias alias="OrderProvider" type="Wag.Oms.NewOrder.OrderProvider.OrderProvider, Wag.Oms.NewOrder.OrderProvider" />
      <typeAlias alias="DcDefinitionProvider" type="Wag.Oms.NewOrder.DcDefinitionProvider.DcDefinitionProvider, Wag.Oms.NewOrder.DcDefinitionProvider" />
      <typeAlias alias="OrderRoutingDiscrepancyProvider" type="Wag.Oms.NewOrder.OrderRoutingDiscrepancyProvider.OrderRoutingDiscrepancyProvider, Wag.Oms.NewOrder.OrderRoutingDiscrepancyProvider" />
      <typeAlias alias="OrderRoutingFailureProvider" type="Wag.Oms.NewOrder.OrderRoutingFailureProvider.OrderRoutingFailureProvider, Wag.Oms.NewOrder.OrderRoutingFailureProvider" />

      <!--Repository Aliases-->
      <!--=================================================================================-->

      <!--Contracts-->
      <typeAlias alias="IOrderRepository" type="Wag.Oms.NewOrder.DAL.Contracts.IOrderRepository, Wag.Oms.NewOrder.DAL.Contracts" />
      <typeAlias alias="ISuborderRepository" type="Wag.Oms.NewOrder.DAL.Contracts.ISuborderRepository, Wag.Oms.NewOrder.DAL.Contracts" />
      <typeAlias alias="ISuborderLineitemRepository" type="Wag.Oms.NewOrder.DAL.Contracts.ISuborderLineitemRepository, Wag.Oms.NewOrder.DAL.Contracts" />
      <typeAlias alias="IOrderRoutingDiscrepancyRepository" type="Wag.Oms.NewOrder.DAL.Contracts.IOrderRoutingDiscrepancyRepository, Wag.Oms.NewOrder.DAL.Contracts" />
      <typeAlias alias="IOrderRoutingFailureRepository" type="Wag.Oms.NewOrder.DAL.Contracts.IOrderRoutingFailureRepository, Wag.Oms.NewOrder.DAL.Contracts" />
      <typeAlias alias="IOrderLoader" type="Wag.Oms.NewOrder.DAL.Contracts.IOrderLoader, Wag.Oms.NewOrder.DAL.Contracts" />
      <typeAlias alias="IDcDefinitionLoader" type="Wag.Oms.NewOrder.DAL.Contracts.IDcDefinitionLoader, Wag.Oms.NewOrder.DAL.Contracts" />
      <typeAlias alias="ISuborderVersionMapLoader" type="Wag.Oms.NewOrder.DAL.Contracts.ISuborderVersionMapLoader, Wag.Oms.NewOrder.DAL.Contracts" />

      <!--DB Repositories-->
      <typeAlias alias="OrderRepository" type="Wag.Oms.NewOrder.DAL.Repositories.OrderRepository, Wag.Oms.NewOrder.DAL.Repositories" />
      <typeAlias alias="SuborderRepository" type="Wag.Oms.NewOrder.DAL.Repositories.SuborderRepository, Wag.Oms.NewOrder.DAL.Repositories" />
      <typeAlias alias="SuborderLineitemRepository" type="Wag.Oms.NewOrder.DAL.Repositories.SuborderLineitemRepository, Wag.Oms.NewOrder.DAL.Repositories" />
      <typeAlias alias="OrderRoutingDiscrepancyRepository" type="Wag.Oms.NewOrder.DAL.Repositories.OrderRoutingDiscrepancyRepository, Wag.Oms.NewOrder.DAL.Repositories" />
      <typeAlias alias="OrderRoutingFailureRepository" type="Wag.Oms.NewOrder.DAL.Repositories.OrderRoutingFailureRepository, Wag.Oms.NewOrder.DAL.Repositories" />
      <typeAlias alias="OrderLoader" type="Wag.Oms.NewOrder.DAL.Repositories.OrderLoader, Wag.Oms.NewOrder.DAL.Repositories" />
      <typeAlias alias="DcDefinitionLoader" type="Wag.Oms.NewOrder.DAL.Repositories.DcDefinitionLoader, Wag.Oms.NewOrder.DAL.Repositories" />
      <typeAlias alias="SuborderVersionMapLoader" type="Wag.Oms.NewOrder.DAL.Repositories.SuborderVersionMapLoader, Wag.Oms.NewOrder.DAL.Repositories" />

      <!--XML Repositories-->
      <!--<typeAlias alias="XmlOrderRepository" type="Wag.Oms.NewOrder.DAL.XmlRepositories.XmlOrderRepository, Wag.Oms.NewOrder.DAL.XmlRepositories" />
      <typeAlias alias="XmlSuborderRepository" type="Wag.Oms.NewOrder.DAL.XmlRepositories.XmlSuborderRepository, Wag.Oms.NewOrder.DAL.XmlRepositories" />
      <typeAlias alias="XmlSuborderLineitemRepository" type="Wag.Oms.NewOrder.DAL.XmlRepositories.XmlSuborderLineitemRepository, Wag.Oms.NewOrder.DAL.XmlRepositories" />
      <typeAlias alias="XmlOrderLoader" type="Wag.Oms.NewOrder.DAL.XmlRepositories.XmlOrderLoader, Wag.Oms.NewOrder.DAL.XmlRepositories" />
      <typeAlias alias="XmlDcDefinitionLoader" type="Wag.Oms.NewOrder.DAL.XmlRepositories.XmlDcDefinitionLoader, Wag.Oms.NewOrder.DAL.XmlRepositories" />-->

    </typeAliases>
    <container>

      <!--Repository Mappings-->
      <!--=================================================================================-->

      <!--DB Repositories-->

      <register type="IOrderLoader" mapTo="OrderLoader" name="DB_Rep">
        <lifetime type="singleton" />
      </register>

      <register type="IDcDefinitionLoader" mapTo="DcDefinitionLoader" name="DB_Rep">
        <lifetime type="singleton" />
      </register>

      <register type="ISuborderVersionMapLoader" mapTo="SuborderVersionMapLoader" name="DB_Rep">
        <lifetime type="singleton" />
      </register>

      <register type="IOrderRepository" mapTo="OrderRepository" name="DB_Rep">
        <lifetime type="singleton" />
      </register>

      <register type="ISuborderRepository" mapTo="SuborderRepository" name="DB_Rep">
        <lifetime type="singleton" />
      </register>

      <register type="ISuborderLineitemRepository" mapTo="SuborderLineitemRepository" name="DB_Rep">
        <lifetime type="singleton" />
      </register>

      <register type="IOrderRoutingDiscrepancyRepository" mapTo="OrderRoutingDiscrepancyRepository" name="DB_Rep">
        <lifetime type="singleton" />
      </register>

      <register type="IOrderRoutingFailureRepository" mapTo="OrderRoutingFailureRepository" name="DB_Rep">
        <lifetime type="singleton" />
      </register>

      <!--XML Repositories-->

      <!--<register type="IOrderLoader" mapTo="XmlOrderLoader" name="XML_Rep">
        <lifetime type="singleton" />
      </register>

      <register type="IDcDefinitionLoader" mapTo="XmlDcDefinitionLoader" name="XML_Rep">
        <lifetime type="singleton" />
      </register>

      <register type="IOrderRepository" mapTo="XmlOrderRepository" name="XML_Rep">
        <lifetime type="singleton" />
      </register>

      <register type="ISuborderRepository" mapTo="XmlSuborderRepository" name="XML_Rep">
        <lifetime type="singleton" />
      </register>

      <register type="ISuborderLineitemRepository" mapTo="XmlSuborderLineitemRepository" name="XML_Rep">
        <lifetime type="singleton" />
      </register>-->

      <!--Provider Mappings-->
      <!--=================================================================================-->

      <register type="IOrderProvider" mapTo="OrderProvider">
        <!--Property Injection-->
        <property name="OrderLoader" dependencyName="DB_Rep" dependencyType="IOrderLoader" />
        <property name="OrderRepository" dependencyName="DB_Rep" dependencyType="IOrderRepository" />
        <property name="SuborderRepository" dependencyName="DB_Rep" dependencyType="ISuborderRepository" />
        <property name="SuborderLineitemRepository" dependencyName="DB_Rep" dependencyType="ISuborderLineitemRepository" />
        <property name="SuborderVersionMapLoader" dependencyName="DB_Rep" dependencyType="ISuborderVersionMapLoader" />
      </register>

      <register type="IDcDefinitionProvider" mapTo="DcDefinitionProvider">
        <!--Property Injection-->
        <property name="DcDefinitionLoader" dependencyName="DB_Rep" dependencyType="IDcDefinitionLoader" />
      </register>

      <register type="IOrderRoutingDiscrepancyProvider" mapTo="OrderRoutingDiscrepancyProvider">
        <!--Property Injection-->
        <property name="RoutingDiscrepancyRepository" dependencyName="DB_Rep" dependencyType="IOrderRoutingDiscrepancyRepository" />
      </register>

      <register type="IOrderRoutingFailureProvider" mapTo="OrderRoutingFailureProvider">
        <!--Property Injection-->
        <property name="RoutingFailureRepository" dependencyName="DB_Rep" dependencyType="IOrderRoutingFailureRepository" />
      </register>

    </container>
  </unity>

  <startup>
    <supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.5" />
  </startup>
</configuration>